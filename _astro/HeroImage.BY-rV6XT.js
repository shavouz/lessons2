import{j as t}from"./createLucideIcon.4tpODiV5.js";import{r as s}from"./index.DNi1g-pO.js";function L({base:a,src:l,srcSet:o,widths:c=[480,768,1200,1600],sizes:j="(max-width: 1024px) 100vw, 1200px",alt:g="",className:v="",aspectRatio:y="16 / 9",eager:b=!1,fetchPriority:h="auto",width:i,height:d}){const[u,m]=s.useState(!1),[f,$]=s.useState(!1),x=s.useRef(null),n=s.useMemo(()=>{if(!a)return{src:l,srcSet:o};const e=c.map(p=>`${a}-${p}.webp ${p}w`).join(", ");return{src:`${a}-${Math.max(...c)}.webp`,srcSet:e}},[a,l,c]);return s.useEffect(()=>{const e=x.current;if(!e)return;const r=()=>m(!0);e.complete&&(e.decode?e.decode().then(r).catch(r):r())},[n.src,o]),t.jsxs("div",{className:`relative overflow-hidden rounded-3xl ${v}`,style:{aspectRatio:y},children:[!u&&!f&&t.jsx("div",{className:"absolute inset-0 bg-slate-200 animate-pulse flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400",children:"Loadingâ€¦"})}),f&&t.jsx("div",{className:"absolute inset-0 bg-slate-200 flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400",children:"Image unavailable"})}),t.jsx("img",{ref:x,src:n.src,srcSet:o||n.srcSet,sizes:j,alt:g,className:`w-full h-full object-cover transition-opacity duration-300 ${u?"opacity-100":"opacity-0"}`,onLoad:()=>m(!0),onError:()=>$(!0),loading:b?"eager":"lazy",fetchPriority:h,decoding:"async",...i&&d?{width:i,height:d}:{}})]})}export{L as default};
