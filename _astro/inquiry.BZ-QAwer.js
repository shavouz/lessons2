import{j as e}from"./jsx-runtime.B9a6vIyi.js";import{r as o}from"./index.DNi1g-pO.js";import{u as y}from"./router-shim.BeR2lhvU.js";import{B as N}from"./button.CTU3W5Bb.js";import{C as v,I as x,T as S,L as w,S as C}from"./textarea.nZ_JuXOp.js";import{S as T,a as I,b as k,c as L,d as f}from"./select.r5VZIWXR.js";import{C as P,c as q}from"./card.BcijGTUG.js";import{f as D}from"./facultyData.BvrfPd2V.js";import{m as g}from"./proxy.CChJaJbe.js";import{a as F}from"./createLucideIcon.eztlw-if.js";import{P as O}from"./phone.V3TCMIH6.js";import{M as $}from"./music.DvYV6zXa.js";import"./index.BozVjCo4.js";import"./index.B53YbT63.js";import"./Combination.BENVwvTu.js";import"./chevron-down.UVdPXuL2.js";import"./check.BJ0ij-z5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],M=F("User",E);function ae(){const d=y(),c=D.sort((s,r)=>s.displayOrder-r.displayOrder),[A,b]=o.useState(""),[t,i]=o.useState({name:"",phone:"",message:"",teacher:""}),[h,u]=o.useState(!1),[p,n]=o.useState("idle");o.useEffect(()=>{const r=new URLSearchParams(d.search).get("teacher");if(r&&c.length>0){const a=c.find(l=>l.name.toLowerCase()===r.toLowerCase());a&&(b(a.name),i(l=>({...l,teacher:a.name})))}},[d.search,c]);const m=(s,r)=>{if(s==="phone"){const a=(""+r).replace(/\D/g,"");let l=a;a.length>3&&a.length<=6?l=`(${a.slice(0,3)}) ${a.slice(3)}`:a.length>6&&(l=`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6,10)}`),i({...t,[s]:l})}else i({...t,[s]:r})},j=async s=>{s.preventDefault(),u(!0),n("idle");try{(await fetch("https://formspree.io/f/mrbkjgnd",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).ok?(n("success"),i({name:"",phone:"",message:"",teacher:""})):n("error")}catch{n("error")}finally{u(!1),setTimeout(()=>n("idle"),6e3)}};return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-100 py-24 min-h-screen flex items-center",children:e.jsx("div",{className:"container mx-auto px-6 max-w-2xl",children:e.jsx(g.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(P,{className:"border-0 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-900 p-8",children:[e.jsx("h1",{className:"text-3xl font-light text-white mb-2",children:"Inquire About Lessons"}),e.jsx("p",{className:"text-slate-300 font-light",children:"Fill out the form below and we'll contact you shortly to schedule your trial lesson."})]}),e.jsx(q,{className:"p-8",children:p==="success"?e.jsxs(g.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-10",children:[e.jsx(v,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Thank You!"}),e.jsx("p",{className:"text-slate-600",children:"Your inquiry has been sent. We'll be in touch soon!"})]}):e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[p==="error"&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Oops! "}),e.jsx("span",{className:"block sm:inline",children:"There was an error sending your message. Please try again."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"})," Full Name *"]}),e.jsx(x,{type:"text",placeholder:"Enter your full name",value:t.name,onChange:s=>m("name",s.target.value),required:!0,className:"border-slate-300 focus:border-amber-500 focus:ring-amber-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"})," Phone Number *"]}),e.jsx(x,{type:"tel",placeholder:"(555) 123-4567",value:t.phone,onChange:s=>m("phone",s.target.value),required:!0,className:"border-slate-300 focus:border-amber-500 focus:ring-amber-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"})," Preferred Teacher"]}),e.jsxs(T,{onValueChange:s=>m("teacher",s),value:t.teacher,children:[e.jsx(I,{className:"border-slate-300 focus:border-amber-500 focus:ring-amber-500",children:e.jsx(k,{placeholder:"Select a teacher (optional)"})}),e.jsxs(L,{children:[e.jsx(f,{value:null,children:"No preference"}),c.map(s=>e.jsxs(f,{value:s.name,children:[s.name," - ",s.title]},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Additional Message"}),e.jsx(S,{placeholder:"Tell us about your musical interests, experience level, or any questions you have...",value:t.message,onChange:s=>m("message",s.target.value),rows:4,className:"border-slate-300 focus:border-amber-500 focus:ring-amber-500"})]}),e.jsx(N,{type:"submit",disabled:h||!t.name||!t.phone,className:"w-full bg-slate-900 hover:bg-slate-800 text-white py-3 text-lg font-light",children:h?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),"Send Inquiry"]})})]})})]})})})})}export{ae as default};
