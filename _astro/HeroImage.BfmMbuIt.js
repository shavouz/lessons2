import{j as t}from"./createLucideIcon.CVs7V5kV.js";import{r as s}from"./index.DNi1g-pO.js";function I({base:r,src:l,srcSet:o,widths:c=[480,768,1200,1600],sizes:v="(max-width: 1024px) 100vw, 1200px",alt:y="",className:b="",aspectRatio:i,eager:h=!1,fetchPriority:$="auto",width:d,height:u,objectPosition:E="center",style:m}){const[f,x]=s.useState(!1),[p,N]=s.useState(!1),j=s.useRef(null),n=s.useMemo(()=>{if(!r)return{src:l,srcSet:o};const e=c.map(g=>`${r}-${g}.webp ${g}w`).join(", ");return{src:`${r}-${Math.max(...c)}.webp`,srcSet:e}},[r,l,c]);s.useEffect(()=>{const e=j.current;if(!e)return;const a=()=>x(!0);e.complete&&(e.decode?e.decode().then(a).catch(a):a())},[n.src,o]);const L=i?{aspectRatio:i,...m}:m;return t.jsxs("div",{className:`relative overflow-hidden rounded-3xl ${b}`,style:L,children:[!f&&!p&&t.jsx("div",{className:"absolute inset-0 bg-slate-200 animate-pulse flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400",children:"Loadingâ€¦"})}),p&&t.jsx("div",{className:"absolute inset-0 bg-slate-200 flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400",children:"Image unavailable"})}),t.jsx("img",{ref:j,src:n.src,srcSet:o||n.srcSet,sizes:v,alt:y,className:`w-full h-full object-cover transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,style:{objectPosition:E},onLoad:()=>x(!0),onError:()=>N(!0),loading:h?"eager":"lazy",fetchPriority:$,decoding:"async",...d&&u?{width:d,height:u}:{}})]})}export{I as default};
