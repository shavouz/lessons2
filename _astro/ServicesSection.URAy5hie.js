import{j as e}from"./createLucideIcon.CVs7V5kV.js";import{r}from"./index.DNi1g-pO.js";import{B as R}from"./button.BSXkaJnD.js";import{s as b}from"./locationData.CC5ZTKPw.js";import{C as $,a as I}from"./chevron-right.Bp46qpXU.js";import{m as w}from"./proxy.BWci9PqF.js";import{A as T}from"./index.DCslTSPT.js";import"./index.VwkpmvPs.js";const W=({service:n,locationSlug:v,isScrolling:a,firstRef:c})=>{const i=typeof n.icon=="function"?n.icon:null,o=typeof n.icon=="string"?n.icon:null,[l,x]=r.useState(!1),u=d=>{if(a){d.preventDefault();return}window.location.href=`/${n.page}${v?`-${v.toLowerCase()}`:""}/`};return e.jsx("div",{ref:c,className:"relative flex-shrink-0 w-56 sm:w-64 h-72 sm:h-80 flex items-center justify-center cursor-pointer snap-center",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:u,children:e.jsxs(w.div,{animate:l?"hover":"initial",className:"relative w-full h-full flex items-center justify-center",children:[e.jsx(T,{children:l&&e.jsx(w.div,{className:"absolute inset-0 bg-white rounded-2xl shadow-xl z-0",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"easeOut"}})}),e.jsxs("div",{className:"relative z-10 w-full p-4 sm:p-6 text-center flex flex-col items-center",children:[e.jsxs(w.div,{className:`p-4 sm:p-6 rounded-full inline-block transition-all duration-300 ${l?`bg-gradient-to-br ${n.bgGradient} shadow-lg`:`bg-gradient-to-br ${n.bgGradient} shadow-md`}`,variants:{initial:{scale:1},hover:{scale:1.1}},transition:{type:"spring",stiffness:300,damping:15},children:[i&&e.jsx(i,{className:"w-10 h-10 sm:w-12 sm:h-12 text-slate-700"}),o&&e.jsx("img",{src:o,alt:`${n.title} icon`,className:"w-10 h-10 sm:w-12 sm:h-12 object-contain"})]}),e.jsx(w.h2,{className:"text-xl sm:text-2xl font-butler font-semibold text-slate-800 mt-3 sm:mt-4",layout:"position",children:n.title}),e.jsxs(w.div,{className:"overflow-hidden mt-2 text-sm text-slate-600",initial:!1,animate:l?{opacity:1,height:"auto"}:{opacity:0,height:0},transition:{duration:.3},children:[e.jsxs("h2",{className:"text-md font-butler font-semibold text-slate-700 mb-2",children:[n.title," Lessons Near Me"]}),e.jsx("p",{children:n.shortDescription}),e.jsx("div",{className:"inline-block mt-3 font-semibold text-amber-600",children:"Learn More â†’"})]})]})]})})};function J({location:n,locationSlug:v}){const a=r.useRef(null),c=r.useRef(null),i=r.useRef(null),o=r.useRef(0),[l,x]=r.useState(!1),[u,d]=r.useState(!1),[p,L]=r.useState(0),j=[...b,...b,...b],m=()=>{const t=c.current,s=a.current;if(!t||!s)return;const f=t.getBoundingClientRect(),h=window.getComputedStyle(t),y=parseFloat(h.marginRight||"0"),M=parseFloat(h.marginLeft||"0"),z=f.width+M+y;L(z||f.width)};r.useLayoutEffect(()=>{if(typeof window>"u")return;m();const t=new ResizeObserver(()=>m());return c.current&&t.observe(c.current),a.current&&t.observe(a.current),window.addEventListener("resize",m),window.addEventListener("orientationchange",m),()=>{t.disconnect(),window.removeEventListener("resize",m),window.removeEventListener("orientationchange",m)}},[]);const N=t=>{if(!p)return 0;const s=c.current?.getBoundingClientRect().width||p;return(t.clientWidth-s)/2},k=t=>{const s=a.current;if(!s||!p)return;const f=s.scrollWidth/3,h=N(s),y=f+t*p-Math.max(0,h);s.scrollTo({left:y,behavior:"smooth"})},E=()=>{i.current||(i.current=setInterval(()=>{!l&&!u&&(o.current=(o.current+1)%b.length,k(o.current))},1e3))},g=()=>{i.current&&(clearInterval(i.current),i.current=null)},S=()=>{d(!0),g(),setTimeout(()=>d(!1),1e3)},C=t=>{const s=t==="left"?Math.max(0,o.current-1):Math.min(b.length-1,o.current+1);o.current=s,d(!0),g(),k(o.current),setTimeout(()=>d(!1),600)};return r.useEffect(()=>(!l&&!u?E():g(),()=>g()),[l,u]),r.useEffect(()=>{const t=a.current;if(!t||!j.length)return;const s=setTimeout(()=>{const f=t.scrollWidth/3,h=N(t);t.scrollLeft=f-Math.max(0,h),o.current=0},100);return()=>clearTimeout(s)},[j.length,p]),r.useEffect(()=>()=>g(),[]),e.jsxs("section",{id:"services",className:"py-20 bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[e.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .mask-edges {
          -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
          mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }
      `}),e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"text-center mb-16 px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-butler font-semibold text-slate-900 mb-4",children:"Your Musical Journey Starts Here"}),e.jsxs("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto font-light",children:["We offer personalized, in-home lessons for a wide range of instruments in ",n,"."]})]})}),e.jsxs("div",{className:"relative w-full",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[e.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 z-30 w-full flex justify-between px-4 pointer-events-none",children:[e.jsx(R,{variant:"outline",size:"icon",onClick:()=>C("left"),className:"bg-white/80 backdrop-blur-sm rounded-full shadow-md hover:bg-slate-100 pointer-events-auto",children:e.jsx($,{className:"w-5 h-5"})}),e.jsx(R,{variant:"outline",size:"icon",onClick:()=>C("right"),className:"bg-white/80 backdrop-blur-sm rounded-full shadow-md hover:bg-slate-100 pointer-events-auto",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsx("div",{ref:a,onScroll:S,onTouchStart:S,className:"flex items-center overflow-x-auto no-scrollbar mask-edges cursor-grab active:cursor-grabbing gap-x-3 sm:gap-x-4 snap-x snap-mandatory",style:{scrollBehavior:"smooth"},children:j.map((t,s)=>e.jsx(W,{service:t,locationSlug:v,isScrolling:u,firstRef:s===0?c:void 0},`${t.title}-${s}`))})]})]})}export{J as default};
