import{j as n}from"./createLucideIcon.CVs7V5kV.js";import{r as l}from"./index.DNi1g-pO.js";import{B as T}from"./button.BYxkaUnp.js";import{s as c}from"./locationData.DSK5sWEb.js";import{C as F,a as G}from"./chevron-right.Bp46qpXU.js";import{m as j}from"./proxy.BWci9PqF.js";import{A as J}from"./index.DCslTSPT.js";import"./index.VwkpmvPs.js";const P=({service:o,locationSlug:y,isScrolling:a,firstRef:f,isRealItem:u})=>{const i=typeof o.icon=="function"?o.icon:null,x=typeof o.icon=="string"?o.icon:null,[m,h]=l.useState(!1),d=`/${o.page}${y?`-${y.toLowerCase()}`:""}/`,s=k=>{if(a){k.preventDefault();return}window.location.href=d};return n.jsx("div",{ref:f,className:"relative flex-shrink-0 w-56 sm:w-64 h-72 sm:h-80 flex items-center justify-center cursor-pointer snap-center",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:s,"aria-hidden":u?void 0:!0,children:n.jsxs(j.div,{animate:m?"hover":"initial",className:"relative w-full h-full flex items-center justify-center",children:[n.jsx(J,{children:m&&n.jsx(j.div,{className:"absolute inset-0 bg-white rounded-2xl shadow-xl z-0",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"easeOut"}})}),n.jsxs("div",{className:"relative z-10 w-full p-4 sm:p-6 text-center flex flex-col items-center",children:[n.jsxs(j.div,{className:`p-4 sm:p-6 rounded-full inline-block transition-all duration-300 ${m?`bg-gradient-to-br ${o.bgGradient} shadow-lg`:`bg-gradient-to-br ${o.bgGradient} shadow-md`}`,variants:{initial:{scale:1},hover:{scale:1.1}},transition:{type:"spring",stiffness:300,damping:15},children:[i&&n.jsx(i,{className:"w-10 h-10 sm:w-12 sm:h-12 text-slate-700"}),x&&n.jsx("img",{src:x,alt:`${o.title} icon`,className:"w-10 h-10 sm:w-12 sm:h-12 object-contain"})]}),n.jsx(j.h3,{className:"text-xl sm:text-2xl font-butler font-semibold text-slate-800 mt-3 sm:mt-4",layout:"position",children:o.title}),n.jsxs(j.div,{className:"overflow-hidden mt-2 text-sm text-slate-600",initial:!1,animate:m?{opacity:1,height:"auto"}:{opacity:0,height:0},transition:{duration:.3},children:[u?n.jsx("h2",{className:"text-md font-butler font-semibold text-slate-700 mb-2",children:n.jsxs("a",{href:d,onClick:s,className:"hover:underline focus:underline",children:[o.title," Lessons Near Me"]})}):n.jsxs("div",{className:"text-md font-butler font-semibold text-slate-700 mb-2",children:[o.title," Lessons Near Me"]}),n.jsx("p",{children:o.shortDescription}),u?n.jsx("a",{href:d,onClick:s,className:"inline-block mt-3 font-semibold text-amber-600 hover:underline focus:underline",children:"Learn More →"}):n.jsx("span",{className:"inline-block mt-3 font-semibold text-amber-600",children:"Learn More →"})]})]})]})})};function ee({location:o,locationSlug:y}){const a=l.useRef(null),f=l.useRef(null),u=l.useRef(null),i=l.useRef(0),[x,m]=l.useState(!1),[h,d]=l.useState(!1),[s,k]=l.useState(0),[b,W]=l.useState(1),g=()=>{const e=f.current,t=a.current;if(!e||!t)return;const r=e.getBoundingClientRect(),p=window.getComputedStyle(e),w=parseFloat(p.marginRight||"0"),D=parseFloat(p.marginLeft||"0"),$=r.width+D+w||r.width;k($);const O=Math.max(1,Math.ceil(t.clientWidth/$));W(O)};l.useLayoutEffect(()=>{if(typeof window>"u")return;g();const e=new ResizeObserver(()=>g());return f.current&&e.observe(f.current),a.current&&e.observe(a.current),window.addEventListener("resize",g),window.addEventListener("orientationchange",g),()=>{e.disconnect(),window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}},[]);const I=c.slice(0,b),N=c.slice(-b),C=[...N,...c,...I],S=e=>{if(!s)return 0;const t=f.current?.getBoundingClientRect().width||s;return(e.clientWidth-t)/2},R=()=>b*s,E=(e,t)=>{const r=S(t);return R()+e*s-Math.max(0,r)},L=e=>{const t=a.current;if(!t)return;const r=t.style.scrollBehavior;t.style.scrollBehavior="auto",t.scrollLeft=e,t.style.scrollBehavior=r||""},B=e=>{const t=a.current;if(!t||!s)return;const r=E(e,t);t.scrollTo({left:r,behavior:"smooth"})},A=()=>{const e=a.current;if(!e||!s)return;const t=S(e),r=R()-Math.max(0,t),p=r+(c.length-1)*s;if(e.scrollLeft<=r-s/2){const w=r+(c.length-1)*s;L(w)}else e.scrollLeft>=p+s/2&&L(r)},H=()=>{u.current||(u.current=setInterval(()=>{!x&&!h&&(i.current=(i.current+1)%c.length,B(i.current))},1e3))},v=()=>{u.current&&(clearInterval(u.current),u.current=null)},M=()=>{d(!0),v(),setTimeout(()=>d(!1),1e3)},z=e=>{const t=e==="left"?(i.current-1+c.length)%c.length:(i.current+1)%c.length;i.current=t,d(!0),v(),B(i.current),setTimeout(()=>d(!1),600)};return l.useEffect(()=>(!x&&!h?H():v(),()=>v()),[x,h]),l.useEffect(()=>{const e=a.current;if(!e||!C.length||!s)return;const t=setTimeout(()=>{L(E(0,e)),i.current=0},100);return()=>clearTimeout(t)},[C.length,s,b]),l.useEffect(()=>{const e=a.current;if(!e)return;const t=()=>A();return e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[s,b]),l.useEffect(()=>()=>v(),[]),n.jsxs("section",{id:"services",className:"py-20 bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[n.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .mask-edges {
          -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
          mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }
      `}),n.jsx("div",{className:"container mx-auto",children:n.jsxs("div",{className:"text-center mb-16 px-6",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-butler font-semibold text-slate-900 mb-4",children:"Your Musical Journey Starts Here"}),n.jsxs("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto font-light",children:["We offer personalized, in-home lessons for a wide range of instruments in ",o,"."]})]})}),n.jsxs("div",{className:"relative w-full",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[n.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 z-30 w-full flex justify-between px-4 pointer-events-none",children:[n.jsx(T,{variant:"outline",size:"icon","aria-label":"Scroll left",onClick:()=>z("left"),className:"bg-white/80 backdrop-blur-sm rounded-full shadow-md hover:bg-slate-100 pointer-events-auto",children:n.jsx(F,{className:"w-5 h-5"})}),n.jsx(T,{variant:"outline",size:"icon","aria-label":"Scroll right",onClick:()=>z("right"),className:"bg-white/80 backdrop-blur-sm rounded-full shadow-md hover:bg-slate-100 pointer-events-auto",children:n.jsx(G,{className:"w-5 h-5"})})]}),n.jsx("div",{ref:a,onScroll:M,onTouchStart:M,className:"flex items-center overflow-x-auto no-scrollbar mask-edges cursor-grab active:cursor-grabbing gap-x-3 sm:gap-x-4 snap-x snap-mandatory",style:{scrollBehavior:"smooth"},children:C.map((e,t)=>{const r=t<N.length,p=t>=N.length+c.length,w=!(r||p);return n.jsx(P,{service:e,locationSlug:y,isScrolling:h,firstRef:t===N.length?f:void 0,isRealItem:w},`${e.title}-${t}`)})})]})]})}export{ee as default};
